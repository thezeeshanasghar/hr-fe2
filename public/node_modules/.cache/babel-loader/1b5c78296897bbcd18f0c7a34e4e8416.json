{"ast":null,"code":"// eslint-disable-next-line max-classes-per-file\nimport _ from '@lodash';\nimport * as colors from '@material-ui/core/colors';\n\nclass EventEmitter {\n  constructor() {\n    this.events = {};\n  }\n\n  _getEventListByName(eventName) {\n    if (typeof this.events[eventName] === 'undefined') {\n      this.events[eventName] = new Set();\n    }\n\n    return this.events[eventName];\n  }\n\n  on(eventName, fn) {\n    this._getEventListByName(eventName).add(fn);\n  }\n\n  once(eventName, fn) {\n    const self = this;\n\n    const onceFn = (...args) => {\n      self.removeListener(eventName, onceFn);\n      fn.apply(self, args);\n    };\n\n    this.on(eventName, onceFn);\n  }\n\n  emit(eventName, ...args) {\n    this._getEventListByName(eventName).forEach( // eslint-disable-next-line func-names\n    function (fn) {\n      fn.apply(this, args);\n    }.bind(this));\n  }\n\n  removeListener(eventName, fn) {\n    this._getEventListByName(eventName).delete(fn);\n  }\n\n}\n\nclass FuseUtils {\n  static filterArrayByString(mainArr, searchText) {\n    if (searchText === '') {\n      return mainArr;\n    }\n\n    searchText = searchText.toLowerCase();\n    return mainArr.filter(itemObj => this.searchInObj(itemObj, searchText));\n  }\n\n  static searchInObj(itemObj, searchText) {\n    if (!itemObj) {\n      return false;\n    }\n\n    const propArray = Object.keys(itemObj);\n\n    for (let i = 0; i < propArray.length; i += 1) {\n      const prop = propArray[i];\n      const value = itemObj[prop];\n\n      if (typeof value === 'string') {\n        if (this.searchInString(value, searchText)) {\n          return true;\n        }\n      } else if (Array.isArray(value)) {\n        if (this.searchInArray(value, searchText)) {\n          return true;\n        }\n      }\n\n      if (typeof value === 'object') {\n        if (this.searchInObj(value, searchText)) {\n          return true;\n        }\n      }\n    }\n\n    return false;\n  }\n\n  static searchInArray(arr, searchText) {\n    arr.forEach(value => {\n      if (typeof value === 'string') {\n        if (this.searchInString(value, searchText)) {\n          return true;\n        }\n      }\n\n      if (typeof value === 'object') {\n        if (this.searchInObj(value, searchText)) {\n          return true;\n        }\n      }\n\n      return false;\n    });\n    return false;\n  }\n\n  static searchInString(value, searchText) {\n    return value.toLowerCase().includes(searchText);\n  }\n\n  static generateGUID() {\n    function S4() {\n      return Math.floor((1 + Math.random()) * 0x10000).toString(16).substring(1);\n    }\n\n    return S4() + S4();\n  }\n\n  static toggleInArray(item, array) {\n    if (array.indexOf(item) === -1) {\n      array.push(item);\n    } else {\n      array.splice(array.indexOf(item), 1);\n    }\n  }\n\n  static handleize(text) {\n    return text.toString().toLowerCase().replace(/\\s+/g, '-') // Replace spaces with -\n    .replace(/\\W+/g, '') // Remove all non-word chars\n    .replace(/--+/g, '-') // Replace multiple - with single -\n    .replace(/^-+/, '') // Trim - from start of text\n    .replace(/-+$/, ''); // Trim - from end of text\n  }\n\n  static setRoutes(config, defaultAuth) {\n    let routes = [...config.routes];\n    routes = routes.map(route => {\n      let auth = config.auth || config.auth === null ? config.auth : defaultAuth || null;\n      auth = route.auth || route.auth === null ? route.auth : auth;\n\n      const settings = _.merge({}, config.settings, route.settings);\n\n      return { ...route,\n        settings,\n        auth\n      };\n    });\n    return [...routes];\n  }\n\n  static generateRoutesFromConfigs(configs, defaultAuth) {\n    let allRoutes = [];\n    configs.forEach(config => {\n      allRoutes = [...allRoutes, ...this.setRoutes(config, defaultAuth)];\n    });\n    return allRoutes;\n  }\n\n  static findById(obj, id) {\n    let i;\n    let childObj;\n    let result;\n\n    if (id === obj.id) {\n      return obj;\n    }\n\n    for (i = 0; i < Object.keys(obj).length; i += 1) {\n      childObj = obj[Object.keys(obj)[i]];\n\n      if (typeof childObj === 'object') {\n        result = this.findById(childObj, id);\n\n        if (result) {\n          return result;\n        }\n      }\n    }\n\n    return false;\n  }\n\n  static getFlatNavigation(navigationItems, flatNavigation = []) {\n    for (let i = 0; i < navigationItems.length; i += 1) {\n      const navItem = navigationItems[i];\n\n      if (navItem.type === 'item') {\n        flatNavigation.push({\n          id: navItem.id,\n          title: navItem.title,\n          type: navItem.type,\n          icon: navItem.icon || false,\n          url: navItem.url,\n          auth: navItem.auth || null\n        });\n      }\n\n      if (navItem.type === 'collapse' || navItem.type === 'group') {\n        if (navItem.children) {\n          this.getFlatNavigation(navItem.children, flatNavigation);\n        }\n      }\n    }\n\n    return flatNavigation;\n  }\n\n  static randomMatColor(hue) {\n    hue = hue || '400';\n    const mainColors = ['red', 'pink', 'purple', 'deepPurple', 'indigo', 'blue', 'lightBlue', 'cyan', 'teal', 'green', 'lightGreen', 'lime', 'yellow', 'amber', 'orange', 'deepOrange'];\n    const randomColor = mainColors[Math.floor(Math.random() * mainColors.length)];\n    return colors[randomColor][hue];\n  }\n\n  static difference(object, base) {\n    function changes(_object, _base) {\n      return _.transform(_object, (result, value, key) => {\n        if (!_.isEqual(value, _base[key])) {\n          result[key] = _.isObject(value) && _.isObject(_base[key]) ? changes(value, _base[key]) : value;\n        }\n      });\n    }\n\n    return changes(object, base);\n  }\n\n  static updateNavItem(nav, id, item) {\n    return nav.map(_item => {\n      if (_item.id === id) {\n        return _.merge({}, _item, item);\n      }\n\n      if (_item.children) {\n        return _.merge({}, _item, {\n          children: this.updateNavItem(_item.children, id, item)\n        });\n      }\n\n      return _.merge({}, _item);\n    });\n  }\n\n  static removeNavItem(nav, id) {\n    return nav.map(_item => {\n      if (_item.id === id) {\n        return null;\n      }\n\n      if (_item.children) {\n        return _.merge({}, _.omit(_item, ['children']), {\n          children: this.removeNavItem(_item.children, id)\n        });\n      }\n\n      return _.merge({}, _item);\n    }).filter(s => s);\n  }\n\n  static prependNavItem(nav, item, parentId) {\n    if (!parentId) {\n      return [item, ...nav];\n    }\n\n    return nav.map(_item => {\n      if (_item.id === parentId && _item.children) {\n        return {\n          _item,\n          children: [item, ..._item.children]\n        };\n      }\n\n      if (_item.children) {\n        return _.merge({}, _item, {\n          children: this.prependNavItem(_item.children, item, parentId)\n        });\n      }\n\n      return _.merge({}, _item);\n    });\n  }\n\n  static appendNavItem(nav, item, parentId) {\n    if (!parentId) {\n      return [...nav, item];\n    }\n\n    return nav.map(_item => {\n      if (_item.id === parentId && _item.children) {\n        return {\n          _item,\n          children: [..._item.children, item]\n        };\n      }\n\n      if (_item.children) {\n        return _.merge({}, _item, {\n          children: this.appendNavItem(_item.children, item, parentId)\n        });\n      }\n\n      return _.merge({}, _item);\n    });\n  }\n\n  static hasPermission(authArr, userRole) {\n    /**\n     * If auth array is not defined\n     * Pass and allow\n     */\n    if (authArr === null || authArr === undefined) {\n      // console.info(\"auth is null || undefined:\", authArr);\n      return true;\n    }\n\n    if (authArr.length === 0) {\n      /**\n       * if auth array is empty means,\n       * allow only user role is guest (null or empty[])\n       */\n      // console.info(\"auth is empty[]:\", authArr);\n      return !userRole || userRole.length === 0;\n    }\n    /**\n     * Check if user has grants\n     */\n    // console.info(\"auth arr:\", authArr);\n\n    /*\n              Check if user role is array,\n              */\n\n\n    if (userRole && Array.isArray(userRole)) {\n      return authArr.some(r => userRole.indexOf(r) >= 0);\n    }\n    /*\n              Check if user role is string,\n              */\n\n\n    return authArr.includes(userRole);\n  }\n\n}\n\nFuseUtils.EventEmitter = EventEmitter;\nexport default FuseUtils;","map":{"version":3,"sources":["E:/employee management system/hr/new theme/Fuse-React-v5.2.1-skeleton/src/@fuse/utils/FuseUtils.js"],"names":["_","colors","EventEmitter","constructor","events","_getEventListByName","eventName","Set","on","fn","add","once","self","onceFn","args","removeListener","apply","emit","forEach","bind","delete","FuseUtils","filterArrayByString","mainArr","searchText","toLowerCase","filter","itemObj","searchInObj","propArray","Object","keys","i","length","prop","value","searchInString","Array","isArray","searchInArray","arr","includes","generateGUID","S4","Math","floor","random","toString","substring","toggleInArray","item","array","indexOf","push","splice","handleize","text","replace","setRoutes","config","defaultAuth","routes","map","route","auth","settings","merge","generateRoutesFromConfigs","configs","allRoutes","findById","obj","id","childObj","result","getFlatNavigation","navigationItems","flatNavigation","navItem","type","title","icon","url","children","randomMatColor","hue","mainColors","randomColor","difference","object","base","changes","_object","_base","transform","key","isEqual","isObject","updateNavItem","nav","_item","removeNavItem","omit","s","prependNavItem","parentId","appendNavItem","hasPermission","authArr","userRole","undefined","some","r"],"mappings":"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","sourcesContent":["// eslint-disable-next-line max-classes-per-file\nimport _ from '@lodash';\nimport * as colors from '@material-ui/core/colors';\n\nclass EventEmitter {\n\tconstructor() {\n\t\tthis.events = {};\n\t}\n\n\t_getEventListByName(eventName) {\n\t\tif (typeof this.events[eventName] === 'undefined') {\n\t\t\tthis.events[eventName] = new Set();\n\t\t}\n\t\treturn this.events[eventName];\n\t}\n\n\ton(eventName, fn) {\n\t\tthis._getEventListByName(eventName).add(fn);\n\t}\n\n\tonce(eventName, fn) {\n\t\tconst self = this;\n\n\t\tconst onceFn = (...args) => {\n\t\t\tself.removeListener(eventName, onceFn);\n\t\t\tfn.apply(self, args);\n\t\t};\n\t\tthis.on(eventName, onceFn);\n\t}\n\n\temit(eventName, ...args) {\n\t\tthis._getEventListByName(eventName).forEach(\n\t\t\t// eslint-disable-next-line func-names\n\t\t\tfunction (fn) {\n\t\t\t\tfn.apply(this, args);\n\t\t\t}.bind(this)\n\t\t);\n\t}\n\n\tremoveListener(eventName, fn) {\n\t\tthis._getEventListByName(eventName).delete(fn);\n\t}\n}\n\nclass FuseUtils {\n\tstatic filterArrayByString(mainArr, searchText) {\n\t\tif (searchText === '') {\n\t\t\treturn mainArr;\n\t\t}\n\n\t\tsearchText = searchText.toLowerCase();\n\n\t\treturn mainArr.filter(itemObj => this.searchInObj(itemObj, searchText));\n\t}\n\n\tstatic searchInObj(itemObj, searchText) {\n\t\tif (!itemObj) {\n\t\t\treturn false;\n\t\t}\n\n\t\tconst propArray = Object.keys(itemObj);\n\n\t\tfor (let i = 0; i < propArray.length; i += 1) {\n\t\t\tconst prop = propArray[i];\n\t\t\tconst value = itemObj[prop];\n\n\t\t\tif (typeof value === 'string') {\n\t\t\t\tif (this.searchInString(value, searchText)) {\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t} else if (Array.isArray(value)) {\n\t\t\t\tif (this.searchInArray(value, searchText)) {\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (typeof value === 'object') {\n\t\t\t\tif (this.searchInObj(value, searchText)) {\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn false;\n\t}\n\n\tstatic searchInArray(arr, searchText) {\n\t\tarr.forEach(value => {\n\t\t\tif (typeof value === 'string') {\n\t\t\t\tif (this.searchInString(value, searchText)) {\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (typeof value === 'object') {\n\t\t\t\tif (this.searchInObj(value, searchText)) {\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn false;\n\t\t});\n\t\treturn false;\n\t}\n\n\tstatic searchInString(value, searchText) {\n\t\treturn value.toLowerCase().includes(searchText);\n\t}\n\n\tstatic generateGUID() {\n\t\tfunction S4() {\n\t\t\treturn Math.floor((1 + Math.random()) * 0x10000)\n\t\t\t\t.toString(16)\n\t\t\t\t.substring(1);\n\t\t}\n\n\t\treturn S4() + S4();\n\t}\n\n\tstatic toggleInArray(item, array) {\n\t\tif (array.indexOf(item) === -1) {\n\t\t\tarray.push(item);\n\t\t} else {\n\t\t\tarray.splice(array.indexOf(item), 1);\n\t\t}\n\t}\n\n\tstatic handleize(text) {\n\t\treturn text\n\t\t\t.toString()\n\t\t\t.toLowerCase()\n\t\t\t.replace(/\\s+/g, '-') // Replace spaces with -\n\t\t\t.replace(/\\W+/g, '') // Remove all non-word chars\n\t\t\t.replace(/--+/g, '-') // Replace multiple - with single -\n\t\t\t.replace(/^-+/, '') // Trim - from start of text\n\t\t\t.replace(/-+$/, ''); // Trim - from end of text\n\t}\n\n\tstatic setRoutes(config, defaultAuth) {\n\t\tlet routes = [...config.routes];\n\n\t\troutes = routes.map(route => {\n\t\t\tlet auth = config.auth || config.auth === null ? config.auth : defaultAuth || null;\n\t\t\tauth = route.auth || route.auth === null ? route.auth : auth;\n\t\t\tconst settings = _.merge({}, config.settings, route.settings);\n\n\t\t\treturn {\n\t\t\t\t...route,\n\t\t\t\tsettings,\n\t\t\t\tauth\n\t\t\t};\n\t\t});\n\n\t\treturn [...routes];\n\t}\n\n\tstatic generateRoutesFromConfigs(configs, defaultAuth) {\n\t\tlet allRoutes = [];\n\t\tconfigs.forEach(config => {\n\t\t\tallRoutes = [...allRoutes, ...this.setRoutes(config, defaultAuth)];\n\t\t});\n\t\treturn allRoutes;\n\t}\n\n\tstatic findById(obj, id) {\n\t\tlet i;\n\t\tlet childObj;\n\t\tlet result;\n\n\t\tif (id === obj.id) {\n\t\t\treturn obj;\n\t\t}\n\n\t\tfor (i = 0; i < Object.keys(obj).length; i += 1) {\n\t\t\tchildObj = obj[Object.keys(obj)[i]];\n\n\t\t\tif (typeof childObj === 'object') {\n\t\t\t\tresult = this.findById(childObj, id);\n\t\t\t\tif (result) {\n\t\t\t\t\treturn result;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn false;\n\t}\n\n\tstatic getFlatNavigation(navigationItems, flatNavigation = []) {\n\t\tfor (let i = 0; i < navigationItems.length; i += 1) {\n\t\t\tconst navItem = navigationItems[i];\n\n\t\t\tif (navItem.type === 'item') {\n\t\t\t\tflatNavigation.push({\n\t\t\t\t\tid: navItem.id,\n\t\t\t\t\ttitle: navItem.title,\n\t\t\t\t\ttype: navItem.type,\n\t\t\t\t\ticon: navItem.icon || false,\n\t\t\t\t\turl: navItem.url,\n\t\t\t\t\tauth: navItem.auth || null\n\t\t\t\t});\n\t\t\t}\n\n\t\t\tif (navItem.type === 'collapse' || navItem.type === 'group') {\n\t\t\t\tif (navItem.children) {\n\t\t\t\t\tthis.getFlatNavigation(navItem.children, flatNavigation);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn flatNavigation;\n\t}\n\n\tstatic randomMatColor(hue) {\n\t\thue = hue || '400';\n\t\tconst mainColors = [\n\t\t\t'red',\n\t\t\t'pink',\n\t\t\t'purple',\n\t\t\t'deepPurple',\n\t\t\t'indigo',\n\t\t\t'blue',\n\t\t\t'lightBlue',\n\t\t\t'cyan',\n\t\t\t'teal',\n\t\t\t'green',\n\t\t\t'lightGreen',\n\t\t\t'lime',\n\t\t\t'yellow',\n\t\t\t'amber',\n\t\t\t'orange',\n\t\t\t'deepOrange'\n\t\t];\n\t\tconst randomColor = mainColors[Math.floor(Math.random() * mainColors.length)];\n\t\treturn colors[randomColor][hue];\n\t}\n\n\tstatic difference(object, base) {\n\t\tfunction changes(_object, _base) {\n\t\t\treturn _.transform(_object, (result, value, key) => {\n\t\t\t\tif (!_.isEqual(value, _base[key])) {\n\t\t\t\t\tresult[key] = _.isObject(value) && _.isObject(_base[key]) ? changes(value, _base[key]) : value;\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\n\t\treturn changes(object, base);\n\t}\n\n\tstatic EventEmitter = EventEmitter;\n\n\tstatic updateNavItem(nav, id, item) {\n\t\treturn nav.map(_item => {\n\t\t\tif (_item.id === id) {\n\t\t\t\treturn _.merge({}, _item, item);\n\t\t\t}\n\n\t\t\tif (_item.children) {\n\t\t\t\treturn _.merge({}, _item, {\n\t\t\t\t\tchildren: this.updateNavItem(_item.children, id, item)\n\t\t\t\t});\n\t\t\t}\n\n\t\t\treturn _.merge({}, _item);\n\t\t});\n\t}\n\n\tstatic removeNavItem(nav, id) {\n\t\treturn nav\n\t\t\t.map(_item => {\n\t\t\t\tif (_item.id === id) {\n\t\t\t\t\treturn null;\n\t\t\t\t}\n\n\t\t\t\tif (_item.children) {\n\t\t\t\t\treturn _.merge({}, _.omit(_item, ['children']), {\n\t\t\t\t\t\tchildren: this.removeNavItem(_item.children, id)\n\t\t\t\t\t});\n\t\t\t\t}\n\n\t\t\t\treturn _.merge({}, _item);\n\t\t\t})\n\t\t\t.filter(s => s);\n\t}\n\n\tstatic prependNavItem(nav, item, parentId) {\n\t\tif (!parentId) {\n\t\t\treturn [item, ...nav];\n\t\t}\n\n\t\treturn nav.map(_item => {\n\t\t\tif (_item.id === parentId && _item.children) {\n\t\t\t\treturn {\n\t\t\t\t\t_item,\n\t\t\t\t\tchildren: [item, ..._item.children]\n\t\t\t\t};\n\t\t\t}\n\n\t\t\tif (_item.children) {\n\t\t\t\treturn _.merge({}, _item, {\n\t\t\t\t\tchildren: this.prependNavItem(_item.children, item, parentId)\n\t\t\t\t});\n\t\t\t}\n\n\t\t\treturn _.merge({}, _item);\n\t\t});\n\t}\n\n\tstatic appendNavItem(nav, item, parentId) {\n\t\tif (!parentId) {\n\t\t\treturn [...nav, item];\n\t\t}\n\n\t\treturn nav.map(_item => {\n\t\t\tif (_item.id === parentId && _item.children) {\n\t\t\t\treturn {\n\t\t\t\t\t_item,\n\t\t\t\t\tchildren: [..._item.children, item]\n\t\t\t\t};\n\t\t\t}\n\n\t\t\tif (_item.children) {\n\t\t\t\treturn _.merge({}, _item, {\n\t\t\t\t\tchildren: this.appendNavItem(_item.children, item, parentId)\n\t\t\t\t});\n\t\t\t}\n\n\t\t\treturn _.merge({}, _item);\n\t\t});\n\t}\n\n\tstatic hasPermission(authArr, userRole) {\n\t\t/**\n\t\t * If auth array is not defined\n\t\t * Pass and allow\n\t\t */\n\t\tif (authArr === null || authArr === undefined) {\n\t\t\t// console.info(\"auth is null || undefined:\", authArr);\n\t\t\treturn true;\n\t\t}\n\t\tif (authArr.length === 0) {\n\t\t\t/**\n\t\t\t * if auth array is empty means,\n\t\t\t * allow only user role is guest (null or empty[])\n\t\t\t */\n\t\t\t// console.info(\"auth is empty[]:\", authArr);\n\t\t\treturn !userRole || userRole.length === 0;\n\t\t}\n\t\t/**\n\t\t * Check if user has grants\n\t\t */\n\t\t// console.info(\"auth arr:\", authArr);\n\t\t/*\n            Check if user role is array,\n            */\n\t\tif (userRole && Array.isArray(userRole)) {\n\t\t\treturn authArr.some(r => userRole.indexOf(r) >= 0);\n\t\t}\n\n\t\t/*\n            Check if user role is string,\n            */\n\t\treturn authArr.includes(userRole);\n\t}\n}\n\nexport default FuseUtils;\n"]},"metadata":{},"sourceType":"module"}